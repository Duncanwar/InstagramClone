{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Login.js","components/screens/Signup.js","components/screens/Profile.js","components/screens/CreatePost.js","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/UserSubscribe.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","history","useHistory","useContext","UserContext","state","dispatch","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","console","log","posts","map","item","style","padding","postedBy","_id","name","float","postid","method","Authorization","newData","filter","catch","err","src","photo","alt","color","likes","includes","body","JSON","stringify","postId","length","title","comments","record","key","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","Login","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","setItem","token","user","payload","SignIn","setName","image","setImage","undefined","url","setUrl","uploadFields","pic","message","PostData","FormData","append","postPic","files","Profile","mypics","setPics","mypost","maxWidth","margin","display","justifyContent","width","height","borderRadius","file","followers","following","CreatePost","setTitle","setBody","textAlign","postDetails","reducer","action","userProfile","setProfile","userid","useParams","showFollow","setFollow","viewfollow","followId","prevState","post","unfollowId","newFollower","createContext","Routing","parse","exact","path","Signup","UserProfile","UserSubscribe","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.623b946f.chunk.js","sourcesContent":["import React,{useContext} from 'react'\nimport {UserContext, } from '../App'\nimport {Link,useHistory} from 'react-router-dom'\nconst NavBar = ()=>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  const renderList= ()=>{\n    if(state){\n      return[\n      <li><Link to=\"/profile\">Profile</Link></li>,\n            <li><Link to=\"/createpost\">CreatePost</Link></li>,\n            <li><Link to=\"/followingpost\">Following Post</Link></li>,\n            <li><button \n            className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" onClick={()=>{\n              localStorage.clear()\n              dispatch({type:\"CLEAR\"})\n              history.push('./signin')\n            }}>\n                Signout</button></li>\n      ]}else{\n        return [\n          <li><Link to=\"/signin\">Login</Link></li> ,\n          <li><Link to=\"/signup\">Signup</Link></li>\n        ]\n      }\n  }\n    return(\n        <nav>\n        <div className=\"nav-wrapper white\">\n          <Link to={state ?\"/\":\"/signin\"} className=\"brand-logo left\">Instagram</Link>\n          <ul id=\"nav-mobile\" className=\"right\">\n           {renderList()}\n            \n          </ul>\n        </div>\n      </nav>\n    )\n}\n\nexport default NavBar","import React,{useState,useEffect, useContext} from 'react'\nimport {UserContext} from '../../App'\nimport { Link } from 'react-router-dom'\n\nconst Home = ()=>{\n    const [data,setData] = useState([])\n    const {state,dispatch}= useContext(UserContext)\n    useEffect(()=>{\n        fetch('/allpost',{\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result =>{\n            console.log(result)\n            setData(result.posts)\n        })\n    },[])\n\n    const likePost =(id)=>{\n        fetch('/like',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n\n        \n    }\n    const unlikePost =(id)=>{\n        fetch('/unlike',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n    const makeComment =(text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else\n                return item\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const deletePost = (postid)=>{\n        fetch(`deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        }).catch(err=>console.log(err))\n    }\n\n    return (\n        <div className=\"home\">\n            {\n                data.map(item=>{\n                    return (\n<div className=\"card home-card\">\n                    <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile\"}>{item.postedBy.name}</Link>{\n                        item.postedBy._id && <i className=\"material-icons\" style={{float:\"right\"}} onClick={()=>{deletePost(item._id)}}>delete</i>\n                    }</h5>\n                <div className=\"card-image\">\n                    <img src={item.photo} alt=''/>\n                    </div>\n                    <div className=\"card-content\">\n                \n                        \n  <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n        {item.likes.includes(state._id) ? \n                <i className=\"material-icons\" onClick={()=>unlikePost(item._id)}>thumb_down</i>   \n:         <i className=\"material-icons\" onClick={()=>likePost(item._id)}>thumb_up</i>   \n\n\n        }\n        \n                    <h6>{item.likes.length} likes</h6>\n    <h6>{item.title}</h6>\n    <p>{item.body}</p>\n    {\n        item.comments.map(record=>{\n            return(\n            <h6 key={record._id}><span style={{fontWeight:\"500\"}} >{record.postedBy.name} </span>   {record.text}</h6>\n            )\n        })\n    }\n    <form onSubmit={(e)=>{\n        e.preventDefault()\n        makeComment(e.target[0].value,item._id)\n    \n    }}>\n                    \n                        <input type=\"text\" placeholder=\"add comment\"  />\n                        </form>\n                </div>\n\n            </div>\n                    )\n                })\n            }\n            \n        </div>\n    )\n}\nexport default Home","import React,{useState,useContext} from 'react'\nimport {UserContext} from '../../App'\nimport {Link,useHistory} from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst Login = ()=>{\nconst {state,dispatch} = useContext(UserContext)\nconst history = useHistory();\nconst [password,setPassword]= useState(\"\")\nconst [email,setEmail]= useState(\"\")\n\nconst PostData = ()=>{\n    \n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n    M.toast({html:\"invalid email\"})\nreturn      \n}   \n\nfetch(\"/signin\",{\n    method:\"post\",\n    headers:{\n        \"Content-Type\":\"application/json\"\n    },\n    body:JSON.stringify({\n        password,\n        email\n    })\n    }).then(res=>res.json())\n    .then(data=>{\n       if(data.error){\n            M.toast({html: data.error, })\n        }\n        else{\n            localStorage.setItem('jwt',data.token)\n            localStorage.setItem(\"user\",JSON.stringify(data.user))\n            dispatch({type:\"USER\",payload:data.user})\n            M.toast({html: \"signin success\",})\n            history.push('/')\n            console.log(data,state)\n        }\n      \n    }).catch(err=>{\n        console.log(err)\n    })\n}\n\n    return (\n       <div className=\"mycard\">\n           <div className=\"card auth-card input-field\">\n<h2>Instagram</h2>\n<input type=\"text\" \nplaceholder=\"email\"\nvalue={email}\nonChange={(e)=>setEmail(e.target.value)}\n/>\n<input type=\"text\" \nplaceholder=\"password\" \nvalue={password}\nonChange={(e)=>setPassword(e.target.value)}\n/>\n\n<button className=\"btn waves-effect waves-light #64b5f6 blue lighten-2 \" onClick={()=>PostData()}>Login</button>\n<h5><Link to=\"/signup\">Do you have an account already ?</Link>\n</h5>\n           </div>\n       </div>\n    )\n} \nexport default Login","import React,{useState, useEffect} from 'react'\nimport {Link,useHistory} from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst SignIn = ()=>{\n    const history = useHistory();\nconst [name,setName]= useState(\"\")\nconst [password,setPassword]= useState(\"\")\nconst [email,setEmail]= useState(\"\")\nconst [image,setImage]= useState(\"\")\nconst [url,setUrl]=useState(undefined)\n\nuseEffect(()=>{\nif(url){\n    uploadFields()\n}\n},[url])\n\nconst postPic=()=>{\n\nconst data = new FormData()\ndata.append(\"file\",image)\ndata.append(\"upload_preset\", \"insta-clone\")\ndata.append(\"cloud_name\", \"semugeshi\")\nfetch(\"https://api.cloudinary.com/v1_1/semugeshi/image/upload\",{\n    method:\"post\",\n    body:data\n}).then(res=>res.json())\n.then(data=>setUrl(data.url))\n.catch(err=>\n    console.log(err))\n}\n\nconst uploadFields=()=>{\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n        M.toast({html:\"invalid email\"})\n        return \n        }\n            fetch(\"/signup\",{\n        method:\"post\",\n        headers:{\n            \"Content-Type\":\"application/json\",\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n        },\n        body:JSON.stringify({\n            name,\n            password,\n            email,\n            pic:url\n        })\n        }).then(res=>res.json())\n        .then(data=>{\n           if(data.error){\n                M.toast({html: data.error, })\n            }\n            else{\n                M.toast({html: data.message,})\n                history.push('/signin')\n            }\n        }).catch(err=>{\n            console.log(err)\n        })\n}\n\n\nconst PostData = ()=>{\n   if(image)\n   postPic();\n   else\n   uploadFields();\n}\n\n\n    return (\n       <div className=\"mycard\">\n           <div className=\"card auth-card input-field\">\n<h2>Instagram</h2>\n<input type=\"text\"\n placeholder=\"username\" \nvalue={name}\nonChange={(e)=>setName(e.target.value)}\n/> \n<input type=\"text\" \nplaceholder=\"email\"\nvalue={email}\nonChange={(e)=>setEmail(e.target.value)}\n/>\n<input type=\"text\" \nplaceholder=\"password\" \nvalue={password}\nonChange={(e)=>setPassword(e.target.value)}\n/>\n<div className=\"file-field input-field\">\n      <div className=\"btn\">\n        <span>Upload profile</span>\n        <input type=\"file\"\n        onChange={(e)=>setImage(e.target.files[0])}\n        />\n      </div>\n      <div className=\"file-path-wrapper\">\n        <input className=\"file-path validate\" type=\"text\"/>\n      </div>\n    </div>\n<button \nclassName=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" onClick={()=>PostData()}>\n    Signup</button>\n<h5><Link to=\"/signin\">Have an account already </Link>\n</h5>\n           </div>\n       </div>\n    )\n}\nexport default SignIn","import React,{useEffect,useState,useContext} from 'react'\nimport {UserContext} from '../../App'\n\nconst Profile = ()=>{\n    const [mypics,setPics]= useState([])\n    const {state,dispatch} = useContext(UserContext)\n    const [image,setImage] = useState(\"\")\n    useEffect(()=>{\n        console.log(state)\n        fetch('/myposts',{\n            headers:{\n                \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\") \n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result,state)\n           setPics(result.mypost)\n        })\n    },[])\n\n    useEffect(()=>{\n        if(image){\n            const data = new FormData()\ndata.append(\"file\",image)\ndata.append(\"upload_preset\", \"insta-clone\")\ndata.append(\"cloud_name\", \"semugeshi\")\nfetch(\"https://api.cloudinary.com/v1_1/semugeshi/image/upload\",{\n    method:\"post\",\n    body:data\n}).then(res=>res.json())\n.then(data=>{\n    \n\n    fetch(\"/updatepic\",{\n        method:\"put\",    \n        headers:{\n      \"Content-Type\":\"application/json\",\n      \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n    },\n    body:JSON.stringify({\n        pic:data.url\n    })\n    \n}).then(res=>res.json())\n.then(result=>{\n    console.log(result)\n    localStorage.setItem(\"user\",JSON.stringify({...state,photo:result.pic}))\n    dispatch({type:\"UPDATEPIC\",payload:result.pic})\n})\n})\n.catch(err=>\n    console.log(err))\n\n        \n    }},[image])\n\nconst changePhoto=(file)=>{\nsetImage(file)\n}\n\n    return (\n       <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\n           <div style={{\n               display:\"flex\",\n               justifyContent:\"space-around\",\n               margin:\"18px 0px\"\n           }}>\n           <div>\n               <img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}}\n               src={state? state.photo : \"loading...\"}\n               />\n\n<div className=\"file-field input-field\">\n      <div className=\"btn\">\n        <span>Upload profile</span>\n        <input type=\"file\"\n        onChange={(e)=>changePhoto(e.target.files[0])}\n        />\n      </div>\n      <div className=\"file-path-wrapper\">\n        <input className=\"file-path validate\" type=\"text\"/>\n      </div>\n    </div>\n\n           </div>\n           <div>\n        <h4>{state?state.name :\"loading\"}</h4>\n               <div style={{display:\"flex\", justifyContent:\"space-between\", width:\"108%\"}}>\n                   <h5>{mypics.length} posts</h5>\n                   <h5>{state? state.followers.length :\"0\"} followers</h5>\n                   <h5>{state? state.following.length :\"0\"} following</h5>\n               </div>\n           </div>\n           </div>\n       <div className=\"gallery\">\n           {\n               mypics.map(item=>{\n                   return(\n                       <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\n                   )\n               })\n           }\n\n       </div>\n       \n       </div>\n    )\n}\nexport default Profile","import React,{useState,useEffect} from 'react'\nimport M from 'materialize-css'\nimport {useHistory} from 'react-router-dom'\n\n\nconst CreatePost=()=>{\n  const history = useHistory()\n  const [title,setTitle] = useState(\"\")\n  const [body,setBody]= useState(\"\")\n  const [image,setImage]=useState(\"\")\nconst [url,setUrl] = useState(\"\")\nuseEffect(()=>{\nif(url){\n  fetch(\"/createpost\",{\n    method:\"post\",\n    headers:{\n        \"Content-Type\":\"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n    },\n    body:JSON.stringify({\n        title,\n        body,\n        pic:url\n    })\n    }).then(res=>res.json())\n    .then(data=>{\n       if(data.error){\n            M.toast({html: data.error, })\n        }\n        else{\n            M.toast({html: \"created post \",})\n            history.push('/')\n        }\n    }).catch(err=>{\n        console.log(err)\n    })\n\n}\n},[url])\n\n  const postDetails =()=>{\n    const data = new FormData();\n    data.append(\"file\",image)\n    data.append(\"upload_preset\",\"insta-clone\")\n    data.append(\"cloud_name\",\"semugeshi\")\n    fetch(\" https://api.cloudinary.com/v1_1/semugeshi/image/upload\",{\n      method:'post',\n      body:data\n    }).then(res=>res.json())\n    .then(data=>{\n      setUrl(data.url)\n    })\n    .catch(err=>console.log(err))\n    \n  }\n    return(\n        <div className=\"card input-field\" style={{\n            margin:\"30px auto\",\n            maxWidth:\"500px\",\n            padding:\"20px\",\n            textAlign:\"center\"\n        }}>\n<input type=\"text\" \nplaceholder=\"title\" \nvalue={title}\nonChange={(e)=>setTitle(e.target.value)}\n/>\n<input type=\"text\" placeholder=\"body\"\nvalue={body}\nonChange={(e)=>setBody(e.target.value)}\n/>\n<div className=\"file-field input-field\">\n      <div className=\"btn\">\n        <span>Upload Image</span>\n        <input type=\"file\"\n        onChange={(e)=>setImage(e.target.files[0])}\n        />\n      </div>\n      <div className=\"file-path-wrapper\">\n        <input className=\"file-path validate\" type=\"text\"/>\n      </div>\n    </div>\n    <button \nclassName=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" onClick={()=>postDetails()}>\n    Signup</button>\n        </div>\n    )\n}\nexport default CreatePost","export const initialState = null\n\nexport const reducer = (state,action)=>{\n    if(action.type ==\"USER\"){\n        return action.payload\n    }\n    if(action.type ==\"CLEAR\")\n    return null;\n\n    if(action.type ==\"UPDATE\"){\n    return {...state,\n    following:action.payload.following,\nfollowers:action.payload.followers\n}\n    }\nif(action.type == \"UPDATEPIC\"){\n    return{\n        ...state,\n        pic:action.payload\n    }\n}\n    return state\n}","import React,{useEffect,useState,useContext} from 'react'\nimport {UserContext} from '../../App'\nimport {useParams} from 'react-router-dom'\n\nconst Profile = ()=>{\n    const [userProfile,setProfile]= useState(null)\n    const {userid} = useParams()\n    const {state,dispatch} = useContext(UserContext)\n   const [showFollow,setFollow] = useState(state ? !state.following.includes(userid): true)\n   \n    useEffect(()=>{\n        fetch(`/user/${userid}`,{\n            headers:{\n                \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\") \n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n           setProfile(result)\n        })\n    },[])\n    \n    const viewfollow =()=>{\n        fetch('/follow',{\n            method:'put',\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },body:JSON.stringify({\n                followId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n           console.log(data,setFollow)\n           dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n           localStorage.setItem(\"user\",JSON.stringify(data))\n           setProfile((prevState)=>{\n               \n               return {\n                   ...prevState,\n                   user:{...prevState.user,\n                followers:[...prevState.user.followers,data._id]\n                }\n               }\n           })\n           setFollow(false)\n        })\n    }\n    const unviewfollow =()=>{\n        fetch('/unfollow',{\n            method:'put',\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },body:JSON.stringify({\n                unfollowId:userid\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n           console.log(data)\n           dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n           localStorage.setItem(\"user\",JSON.stringify(data))\n           setProfile((prevState)=>{\n               const newFollower = prevState.user.followers.filter(item=>item != data._id)\n               return {\n                   ...prevState,\n                   user:{...prevState.user,\n                followers:newFollower\n                }\n               }\n           })\n           setFollow(true)\n        })\n    }\n    return (\n        <>\n        {userProfile ?  \n        \n<div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\n           <div style={{\n               display:\"flex\",\n               justifyContent:\"space-around\",\n               margin:\"18px 0px\"\n           }}>\n           <div>\n               <img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}}\n               src=\"https://images.unsplash.com/photo-1518639845127-064c4bd0c574?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60\"\n               />\n           </div>\n           <div>\n        <h4>{userProfile.user.name}</h4>\n        <h4>{userProfile.user.email}</h4>\n               <div style={{display:\"flex\",\n                justifyContent:\"space-between\", width:\"108%\"}}>\n                   <h5>{userProfile.post.length} posts</h5>\n        <h5 onClick={()=>viewfollow(userProfile.user._id)}>{userProfile.user.followers.length} followers</h5>\n        <h5>{userProfile.user.following.length}following</h5>\n        {showFollow? <button onClick={()=>viewfollow()}>follow</button> :  <button onClick={()=>unviewfollow()}>unfollow</button>}\n       \n               </div>\n           </div>\n           </div>\n       <div className=\"gallery\">\n           {\n               userProfile.post.map(item=>{\n                   return(\n                       <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\n                   )\n               })\n           }\n\n       </div>\n       \n       </div>\n\n        :<h2>loading...!</h2>\n        }\n       \n    </>)\n}\nexport default Profile","import React,{useState,useEffect, useContext} from 'react'\nimport {UserContext} from '../../App'\nimport { Link } from 'react-router-dom'\n\nconst Home = ()=>{\n    const [data,setData] = useState([])\n    const {state,dispatch}= useContext(UserContext)\n    useEffect(()=>{\n        fetch('/followingpost',{\n            headers:{\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result =>{\n            console.log(result)\n            setData(result.posts)\n        })\n    },[])\n\n    const likePost =(id)=>{\n        fetch('/like',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n\n        \n    }\n    const unlikePost =(id)=>{\n        fetch('/unlike',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }\n                else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n    const makeComment =(text,postId)=>{\n        fetch(\"/comment\",{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else\n                return item\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const deletePost = (postid)=>{\n        fetch(`deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        }).catch(err=>console.log(err))\n    }\n\n    return (\n        <div className=\"home\">\n            {\n                data.map(item=>{\n                    return (\n<div className=\"card home-card\">\n                    <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile\"}>{item.postedBy.name}</Link>{\n                        item.postedBy._id && <i className=\"material-icons\" style={{float:\"right\"}} onClick={()=>{deletePost(item._id)}}>delete</i>\n                    }</h5>\n                <div className=\"card-image\">\n                    <img src={item.photo} alt=''/>\n                    </div>\n                    <div className=\"card-content\">\n                \n                        \n  <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n        {item.likes.includes(state._id) ? \n                <i className=\"material-icons\" onClick={()=>unlikePost(item._id)}>thumb_down</i>   \n:         <i className=\"material-icons\" onClick={()=>likePost(item._id)}>thumb_up</i>   \n\n\n        }\n        \n                    <h6>{item.likes.length} likes</h6>\n    <h6>{item.title}</h6>\n    <p>{item.body}</p>\n    {\n        item.comments.map(record=>{\n            return(\n            <h6 key={record._id}><span style={{fontWeight:\"500\"}} >{record.postedBy.name} </span> {record.text}</h6>\n            )\n        })\n    }\n    <form onSubmit={(e)=>{\n        e.preventDefault()\n        makeComment(e.target[0].value,item._id)\n    }}>\n                    \n                        <input type=\"text\" placeholder=\"add comment\" />\n                        </form>\n                </div>\n\n            </div>\n                    )\n                })\n            }\n            \n        </div>\n    )\n}\nexport default Home","import React ,{useEffect,createContext,useReducer,useContext}from 'react';\nimport './App.css';\nimport Nav from './components/Navbar'\nimport {BrowserRouter,Route, Switch, useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Signin from './components/screens/Login'\nimport Signup from './components/screens/Signup'\nimport Profile from './components/screens/Profile'\nimport CreatePost from './components/screens/CreatePost'\nimport {reducer,initialState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile'\nimport UserSubscribe from './components/screens/UserSubscribe'\nexport const UserContext = createContext()\n\nconst Routing = () =>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\nif(user){\n  dispatch({type:\"USER\",payload:user})\n  \n}else{\n  history.push('/signin')\n}\n  },[])\n  return(\n    <Switch>\n<Route exact path=\"/\" >\n      <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <Signin />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup/>\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/createpost\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/followingpost\">\n        <UserSubscribe />\n      </Route>\n    </Switch>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  \n  return (\n    <UserContext.Provider value={{state,dispatch}} >\n    <BrowserRouter>\n    <Nav />\n    <Routing />\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}